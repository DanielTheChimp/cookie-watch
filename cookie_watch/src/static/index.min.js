let e=[{name:"Fetch GET",path:"/test/fetch_get",popup:!1,run:async e=>fetch(e,{method:"GET",mode:"no-cors",credentials:"include"})},{name:"Fetch POST",path:"/test/fetch_post",popup:!1,run:async e=>fetch(e,{method:"POST",mode:"no-cors",credentials:"include"})},{name:"XMLHttpRequest GET",path:"/test/xmlhttprequest_get",popup:!1,run:async e=>{const t=new XMLHttpRequest;t.withCredentials=!0,t.open("GET",e),t.send()}},{name:"XMLHttpRequest POST",path:"/test/xmlhttprequest_post",popup:!1,run:async e=>{const t=new XMLHttpRequest;t.withCredentials=!0,t.open("POST",e),t.send()}},{name:"Hyperlink",path:"/test/hyperlink",popup:!0,run:async e=>{let t=document.createElement("a");t.href=e,t.target="targetWindow",document.body.append(t),t.click(),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Hyperlink iFrame",path:"/test/hyperlink_iframe",popup:!1,run:async e=>{let t=document.createElement("a"),n=document.createElement("iframe");n.name="hidden-frame",n.style="display:none",t.href=e,t.target="hidden-frame",document.body.append(n),document.body.append(t),t.click(),await new Promise((e=>setTimeout(e,1e3))),t.remove(),n.remove()}},{name:"Form",path:"/test/form",popup:!0,run:async e=>{let t=document.createElement("form");t.method="post",t.action=e,t.target="targetWindow",document.body.append(t),t.submit(),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Form iFrame",path:"/test/form_iframe",popup:!1,run:async e=>{let t=document.createElement("form"),n=document.createElement("iframe");n.name="hidden-frame",n.style="display:none",t.method="post",t.action=e,t.target="hidden-frame",document.body.append(n),document.body.append(t),t.submit(),await new Promise((e=>setTimeout(e,1e3))),t.remove(),n.remove()}},{name:"iFrame",path:"/test/iFrame",popup:!1,run:async e=>{let t=document.createElement("iframe");t.style="display:none",t.src=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Embed",path:"/test/embed",popup:!1,run:async e=>{let t=document.createElement("embed");t.src=e,t.width="0",t.height="0",document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Window Open",path:"/test/window_open",popup:!0,run:async e=>{window.open(e,"targetWindow")}},{name:"Window Open iFrame",path:"/test/window_open_iframe",popup:!1,run:async e=>{let t=document.createElement("iframe");t.name="hidden-frame",t.style="display:none",document.body.append(t),window.open(e,"hidden-frame"),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"WebSocket",path:"/test/websocket",popup:!1,run:async e=>{new WebSocket("wss:"+e.split(":")[1])}},{name:"Audio",path:"/test/audio",popup:!1,run:async e=>{document.createElement("audio").src=e}},{name:"Video",path:"/test/video",popup:!1,run:async e=>{document.createElement("video").src=e}},{name:"Image",path:"/test/image",popup:!1,run:async e=>{document.createElement("img").src=e}},{name:"SVG",path:"/test/svg",popup:!1,run:async e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElement("image");n.setAttributeNS("http://www.w3.org/1999/xlink","href",e),t.append(n),document.body.append(t),t.innerHTML+="",await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Icon",path:"/test/link_icon",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="icon",t.href=e,document.head.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Stylesheet",path:"/test/link_stylesheet",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Prefetch",path:"/test/link_prefetch",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="prefetch",t.href=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Preload Font",path:"/test/link_preload_font",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="preload",t.as="font",t.href=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Preload Image",path:"/test/link_preload_image",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="preload",t.as="image",t.href=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Preload ImageSrcSet",path:"/test/link_preload_imagesrcset",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="preload",t.as="image",t.imageSrcset=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Preload Script",path:"/test/link_preload_script",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="preload",t.as="script",t.href=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Link Preload Style",path:"/test/link_preload_style",popup:!1,run:async e=>{let t=document.createElement("link");t.rel="preload",t.as="style",t.href=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Import",path:"/test/import",popup:!1,run:async e=>{try{await import(e)}catch{}}},{name:"Object",path:"/test/object",popup:!1,run:async e=>{let t=document.createElement("object");t.data=e,t.width="0",t.height="0",document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}},{name:"Script",path:"/test/script",popup:!1,run:async e=>{let t=document.createElement("script");t.src=e,document.body.append(t),await new Promise((e=>setTimeout(e,1e3))),t.remove()}}];window.onload=()=>{t()};const t=()=>{let t=document.getElementById("run_all");t.onclick=function(){o()};div=document.getElementById("tests");let n=0,m=null;for(let o of e)0==n&&(m=document.createElement("div"),m.className="grid",div.append(m),n=4),t=document.createElement("button"),t.className="secondary",t.onclick=function(){a(o.name)},t.textContent=o.name,m.append(t),n-=1;for(;n;)spn=document.createElement("span"),m.append(spn),n-=1},n=()=>window.open("about:blank","targetWindow",`toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=yes,left=${screen.width-250},width=250,height=250`),a=async t=>{status_busy(),all_buttons_disabled();let a=null;for(let o of e)if(o.name==t)return o.popup&&(a=n()),await m(o),await new Promise((e=>setTimeout(e,1e3))),o.popup&&a.close(),status_result(!0,t+" completed."),void all_buttons_disabled(!1)},o=async()=>{all_buttons_disabled(),number_of_tests=e.length;let t=n();for(let t=0;t<number_of_tests;t++)status_busy("Running Test "+(t+1)+" / "+number_of_tests),await m(e[t]),await new Promise((e=>setTimeout(e,1e3)));t.close(),status_result(!0,"All tests completed."),all_buttons_disabled(!1)},m=async e=>{let{name:t,browser:n,path:a,run:o}=e;return o("https://cookie.danielp.work"+a)};
